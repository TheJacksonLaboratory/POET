<mat-card [@bounceInLeft]="triggerBounceIn" class="annotation-card">
  <div class="top-actions">
    <button mat-mini-fab color="primary" aria-label="Add Annotation" *ngIf="isUser()"
            (click)="annotationAction(null, 'create', -1)">
      <mat-icon>add</mat-icon>
    </button>
  </div>
  <mat-card-title>
    <span *ngIf="ontology == 'maxo'">Treatments</span>
    <span *ngIf="ontology == 'hpo'">Phenotypes</span>
  </mat-card-title>
  <mat-card-subtitle>
    <span *ngIf="ontology == 'maxo'">A list of curated medical actions for this disease.</span>
    <span *ngIf="ontology == 'hpo'">A list of curated phenotypes of this disease</span><br><br>
  </mat-card-subtitle>
  <mat-card-content>
    <mat-form-field appearance="fill" *ngIf="(maxoAnnotations | async)?.length > 0">
      <mat-label>Annotation Status</mat-label>
      <mat-select multiple [(ngModel)]="selectedStatuses">
        <mat-option *ngFor="let status of annotationStatuses" [value]="status">{{status}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-list #maxo>
      <mat-list-item class="selection-wrapper mat-elevation-z3"
                     [ngClass]="{'active': activeIndex == i}"
                     *ngFor="let maxo of maxoAnnotations | async | filter: selectedStatuses; let i = index">
        <mat-icon matListIcon>health_and_safety</mat-icon>
        <div class="selection-text">
          <span matLine class="selection-id">
            {{maxo.maxoName}} &nbsp; {{maxo.relation}}
          </span>
          <span matLine class="selection-id">
            {{maxo.hpoName}}
          </span>
        </div>
        <div class="spacer"></div>
        <button mat-icon-button aria-label="Edit MAxO annotation" *ngIf="isUser()" [disabled]="!isUser()"
                (click)="annotationAction(maxo, 'edit', i)">
          <mat-icon>create</mat-icon>
        </button>
        <button mat-icon-button aria-label="Deleting MAxO annotation" *ngIf="isElevatedCurator() || isUser()"
                [disabled]="!isUser()"
                (click)="annotationAction(maxo, 'delete', i)">
          <mat-icon>delete</mat-icon>
        </button>
        <button mat-icon-button aria-label="Adding MAxO annotation"
                (click)="annotationAction(maxo, 'view', i)">
          <mat-icon>launch</mat-icon>
        </button>
      </mat-list-item>
    </mat-list>
    <div class="annotation-missing" *ngIf="(maxoAnnotations | async)?.length == 0">
      No {{ontologyToDisplay()}} Found.
    </div>
  </mat-card-content>
</mat-card>
