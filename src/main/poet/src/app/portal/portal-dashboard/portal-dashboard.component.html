<div class="dashboard-wrapper">
  <div class="dashboard-header" fxLayout="row wrap" fxLayoutAlign="center center">
    <img class="logo-title" src="assets/poet-logo_white-banner.png" fxFlex="12"/>
    <span fxFill></span>
    <div fxFlex="35">
      <div class="search-wrapper">
        <app-search [role]="userRole"></app-search>
      </div>
    </div>
  </div>
  <div class="dashboard" fxLayout="row wrap" fxLayoutAlign="stretch" fxLayoutGap=" grid">
    <div class="dashboard-card" fxFlex="33">
        <mat-card class="reviews">
          <mat-card-title>
            User Activity
          </mat-card-title>
          <mat-card-content>
                <mat-list *ngFor="let recent of recentUserActivity | slice: lowValue:highValue">
                  <mat-list-item (click)="navigateToDisease(recent.diseaseId, recent.type)" class="activity-item">
                    <p>{{recent.view}}</p>
                  </mat-list-item>
                </mat-list>
                <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
                <p class="no-activity" *ngIf="recentUserActivity?.length == 0">No Recent Activity.</p>
                <mat-paginator *ngIf="recentUserActivity?.length > 0" [length]="recentUserActivity?.length" pageSize="5"
                               (page)="getPaginatorData($event)"
                               showFirstLastButtons="false" hidePageSize="true">
                </mat-paginator>
          </mat-card-content>
        </mat-card>
    </div>
    <div class="dashboard-card" fxFlex="33">
      <mat-card class="reviews">
        <mat-card-title>
          Disease Activity
        </mat-card-title>
        <mat-card-content>
          <mat-list *ngFor="let recent of diseaseActivity">
            <mat-list-item (click)="navigateToDisease(recent.diseaseId, recent.type)" class="activity-item">
              <p>{{recent.diseaseName}} - {{recent.diseaseCount}}</p>
            </mat-list-item>
          </mat-list>
          <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
          <p class="no-activity" *ngIf="recentUserActivity?.length == 0">No Recent Activity.</p>
          <mat-paginator *ngIf="recentUserActivity?.length > 0" [length]="recentUserActivity?.length" pageSize="5"
                         (page)="getPaginatorData($event)"
                         showFirstLastButtons="false" hidePageSize="true">
          </mat-paginator>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="dashboard-card" fxFlex="33" *ngIf="userService.isRoleAdmin(userRole)">
        <mat-card class="reviews">
          <mat-card-title>
            Action Items
          </mat-card-title>
          <ngx-charts-bar-horizontal
            [results]="diseaseActivity"
            xAxis="true"
            yAxis="true"
            showYAxisLabel="true"
            yAxisLabel="Annotation Actions"
            (select)="onDiseaseActivitySelect($event)">
          </ngx-charts-bar-horizontal>
        </mat-card>
    </div>








 <!--<mat-tab label="Contributions" [disabled]="noContributions()">
  <div class="chart-wrapper" *ngIf="!noContributions()">
    <ngx-charts-pie-chart
      [results]="pieData"
      legend="true"
      legendTitle="Legend"
      legendPosition="bottom"
      explodeSlices="true"
      gradient="true"
      scheme="ocean"
    >
    </ngx-charts-pie-chart>
  </div>

</mat-tab>-->
<!--  <div fxflexlayout="row" class="flex-row">-->
<!--    <mat-card class="contribution-donut-card" fxFlex="40" fxFlexOffset="10">-->
<!--      <mat-card-title>-->
<!--        Contributions-->
<!--      </mat-card-title>-->
<!--      <mat-card-content>-->
<!--        <div class="no-contributions" *ngIf="pieData?.length === 0">-->
<!--          <p>No official contributions yet!</p>-->
<!--          <button mat-raised-button color="accent">Get Started</button>-->
<!--        </div>-->
<!--      </mat-card-content>-->
<!--    </mat-card>-->
<!--    <mat-card class="contribution-overtime-card" fxFlex="40">-->
<!--      <mat-card-title>-->
<!--        Daily Activity-->
<!--      </mat-card-title>-->
<!--      <mat-card-content>-->
<!--        <div class="chart-wrapper">-->
<!--          <ngx-charts-line-chart-->
<!--            [results]="lineData"-->
<!--            [view]="[650, 300]"-->
<!--            xAxis="Day"-->
<!--            yAxis="Annotations"-->
<!--            showXAxisLabel="true"-->
<!--            showYAxisLabel="true"-->
<!--            gradient="true"-->
<!--            scheme="ocean"-->
<!--          >-->
<!--          </ngx-charts-line-chart>-->
<!--        </div>-->
<!--      </mat-card-content>-->
<!--    </mat-card>-->
<!--  </div>-->
  </div>
</div>
